//https://css-tricks.com/how-to-do-knockout-text/
@mixin gradient-text($gradient, $bg : 'light') {
  @supports (mix-blend-mode: lighten) {
    display: inline-block;
    position: relative;

    &::before {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

      background: unquote($gradient);
      pointer-events: none;
    }

    @if ($bg == 'light') {
      color: #000;
      background: #fff;
      mix-blend-mode: multiply;

      &::before {
        mix-blend-mode: screen;
      }
    } @else {
      color: #fff;
      background: #000;
      mix-blend-mode: lighten;

      &::before {
        mix-blend-mode: multiply;
      }
    }
  }
}

$gradient-red: 'linear-gradient(0deg, #662244, #CC2266)';
$gradient-gray: 'linear-gradient(0deg, #999999, #CCCCCC)';

h3 {
  & + .skill {
    margin-top: 2em;
  }
}

h4 {
  &.field {
    display: block;
    perspective-origin: center;
    transform-origin: left top;
    transform: perspective(60em) rotateX(10deg) rotateZ(-8deg) rotateY(40deg);
    background-color: rgba(90, 0, 0, 1);
    background: radial-gradient(ellipse at bottom left, rgb(90, 0, 60) 50%, rgb(50, 0, 128) 100%);
    color: white;
    padding: .6em 1em;
    margin: -2em 0 1em -1em;
    width: 50%;
    box-shadow: -10px 10px 2px rgba(0, 0, 0, 0.1);
    text-transform: uppercase;
    letter-spacing: .2px;
    font-weight: bold;
    transition: .1s;

    &:hover {
      transform: perspective(60em) rotateX(0deg) rotateZ(0deg) rotateY(0deg);
      box-shadow: 0 0 0 rgba(0, 0, 0, .2);
    }
  }

  .company,
  .school {
    @include gradient-text($gradient-red, 'light');
  }

  .location {
    margin-left: .4em;
    @include gradient-text($gradient-gray, 'light');
  }
}

p {
  max-width: 65ch;
}

.bg-dark {
  background: #{'hsl(198deg 100% 9%)'} !important;
}

.dark {
  background: #222;

  .gradient1 {
    color: #fff; // Fallback color

    @include gradient-text('linear-gradient(to right,#23966c, #faaa54, #e23b4a, #db0768, #360670)', 'dark');
  }

  .gradient2 {
    color: #fff;

    @include gradient-text('radial-gradient(circle, #23966c, #faaa54, #e23b4a, #db0768, #360670)', 'dark');
  }
}

.icon {
  border: none;
}

.job,
.education,
.skill {
  background: linear-gradient(0deg, transparent 60%, rgba(0, 0, 0, 0.025) 100%);
  margin: 1em -2em;
  padding: 1em 2em;
  border-radius: .5em;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
  background-color: white;

  & + .skill {
    margin-top: 3em;
  }
}

.skill {
  .category {
    @include gradient-text($gradient-red, 'light');
  }

  ul {
    li {
      small {
        margin-left: .4em;
        @include gradient-text($gradient-gray, 'light');
      }
    }
  }
}

@media screen and (max-width: 768px) {
  .job,
  .education,
  .skill {
    margin: 1em 0;
    padding: 1em 1.4em;
  }

  h4 {
    &.field {
      width: 70%;
    }
  }
}